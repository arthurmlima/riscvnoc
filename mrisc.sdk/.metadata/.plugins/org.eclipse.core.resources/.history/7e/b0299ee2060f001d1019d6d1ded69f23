#include <stdio.h>
#include "platform.h"
#include "sleep.h"
#include <stdlib.h>


#include "xparameters.h"
#include "xil_printf.h"
#include "xil_types.h"

enum {
	VIS_OK,
	VIS_ERROR
};

#define VIS_BASE_ADDRESS_0	XPAR_ZCU104_0_BASEADDR
#define VIS_BASE_ADDRESS_1	XPAR_ZCU104_1_BASEADDR

typedef struct
{
	volatile u32 ADDR;
	volatile u32 DIN;
	volatile u32 DOUT;
	volatile u32 RST;
} Vis_AxiStruct;

#define VIS_AXI_0				((Vis_AxiStruct *)VIS_BASE_ADDRESS_0)
#define VIS_AXI_1				((Vis_AxiStruct *)VIS_BASE_ADDRESS_1)

/* General Purpose Register - Control Bits */
#define VIS_AXI_EN			((u32 )0x00000001)
#define VIS_AXI_WEN			((u32 )0x0000001E) // HABILITA TUDO

/* General Purpose Register - Status Bits */
#define VIS_AXI_OK			((u32 )0x00100000)

/* Address Register */
#define VIS_AXI_ADR			((u32)0x000FFFE0)
#define VIS_AXI_ADR_SHIFT	0UL
#define VIS_AXI_ADR_MASK	((u32)0xFFFFFFFF)

/* Data In Register */
#define VIS_AXI_DTI			((u32)0x00000001)
#define VIS_AXI_DTI_SHIFT	0UL
#define VIS_AXI_DTI_MASK	((u32)0xFFFFFFFF)

/* Data Out Register */
#define VIS_AXI_DTO			((u32)0x00000001)
#define VIS_AXI_DTO_SHIFT	0UL
#define VIS_AXI_DTO_MASK	((u32)0xFFFFFFFF)

u32 program_0[473]=
{
		0xff010113,
		0x00112623,
		0x00812423,
		0x01010413,
		0x020007b7,
		0x00078793,
		0x00478793,
		0x36400713,
		0x00e7a023,
		0x040007b7,
		0x00078793,
		0x0007a023,
		0x050007b7,
		0x00078793,
		0x0007a023,
		0x000107b7,
		0x00078793,
		0x0007a023,
		0x000107b7,
		0x00078793,
		0x0007a783,
		0x00f00533,
		0x00000317,
		0x5c8300e7,
		0x000107b7,
		0x00078793,
		0x0007a703,
		0x00170713,
		0x00e7a023,
		0x000107b7,
		0x00078793,
		0x0007a703,
		0x3e800793,
		0xfcf712e3,
		0x000107b7,
		0x00078793,
		0x0007a023,
		0xfb5ff06f,
		0xfe010113,
		0x00812e23,
		0x02010413,
		0xfea42623,
		0x050007b7,
		0x00078793,
		0xfec42703,
		0x00171713,
		0x00e7a023,
		0xfec42783,
		0x0017e793,
		0xfef42623,
		0x00000013,
		0x01c12403,
		0x02010113,
		0x00008067,
		0xff010113,
		0x00812623,
		0x01010413,
		0x040007b7,
		0x00078793,
		0x0007a703,
		0x000107b7,
		0x00078793,
		0x00175713,
		0x00e7a023,
		0x00000013,
		0x00c12403,
		0x01010113,
		0x00008067,
		0xfe010113,
		0x00112e23,
		0x00812c23,
		0x02010413,
		0x00a007b3,
		0xfef407a3,
		0xfef44703,
		0x00a00793,
		0x00f71863,
		0x00d00513,
		0x00000317,
		0xfd8300e7,
		0x020007b7,
		0x00078793,
		0x00878793,
		0xfef44703,
		0x00e7a023,
		0x00000013,
		0x01c12083,
		0x01812403,
		0x02010113,
		0x00008067,
		0xfe010113,
		0x00112e23,
		0x00812c23,
		0x02010413,
		0xfea42623,
		0x0200006f,
		0xfec42783,
		0x00178713,
		0xfee42623,
		0x0007c783,
		0x00f00533,
		0x00000317,
		0xf7c300e7,
		0xfec42783,
		0x0007c783,
		0xfc079ee3,
		0x00000013,
		0x00000013,
		0x01c12083,
		0x01812403,
		0x02010113,
		0x00008067,
		0xfe010113,
		0x00112e23,
		0x00812c23,
		0x02010413,
		0xfea42623,
		0xfec42703,
		0x38300793,
		0x02e7f063,
		0x03900513,
		0x00000317,
		0xf2c300e7,
		0xfec42783,
		0xc7c78793,
		0xfef42623,
		0x1400006f,
		0xfec42703,
		0x31f00793,
		0x02e7f063,
		0x03800513,
		0x00000317,
		0xf04300e7,
		0xfec42783,
		0xce078793,
		0xfef42623,
		0x1180006f,
		0xfec42703,
		0x2bb00793,
		0x02e7f063,
		0x03700513,
		0x00000317,
		0xedc300e7,
		0xfec42783,
		0xd4478793,
		0xfef42623,
		0x0f00006f,
		0xfec42703,
		0x25700793,
		0x02e7f063,
		0x03600513,
		0x00000317,
		0xeb4300e7,
		0xfec42783,
		0xda878793,
		0xfef42623,
		0x0c80006f,
		0xfec42703,
		0x1f300793,
		0x02e7f063,
		0x03500513,
		0x00000317,
		0xe8c300e7,
		0xfec42783,
		0xe0c78793,
		0xfef42623,
		0x0a00006f,
		0xfec42703,
		0x18f00793,
		0x02e7f063,
		0x03400513,
		0x00000317,
		0xe64300e7,
		0xfec42783,
		0xe7078793,
		0xfef42623,
		0x0780006f,
		0xfec42703,
		0x12b00793,
		0x02e7f063,
		0x03300513,
		0x00000317,
		0xe3c300e7,
		0xfec42783,
		0xed478793,
		0xfef42623,
		0x0500006f,
		0xfec42703,
		0x0c700793,
		0x02e7f063,
		0x03200513,
		0x00000317,
		0xe14300e7,
		0xfec42783,
		0xf3878793,
		0xfef42623,
		0x0280006f,
		0xfec42703,
		0x06300793,
		0x00e7fe63,
		0x03100513,
		0x00000317,
		0xdec300e7,
		0xfec42783,
		0xf9c78793,
		0xfef42623,
		0xfec42703,
		0x05900793,
		0x02e7f063,
		0x03900513,
		0x00000317,
		0xdc8300e7,
		0xfec42783,
		0xfa678793,
		0xfef42623,
		0x1400006f,
		0xfec42703,
		0x04f00793,
		0x02e7f063,
		0x03800513,
		0x00000317,
		0xda0300e7,
		0xfec42783,
		0xfb078793,
		0xfef42623,
		0x1180006f,
		0xfec42703,
		0x04500793,
		0x02e7f063,
		0x03700513,
		0x00000317,
		0xd78300e7,
		0xfec42783,
		0xfba78793,
		0xfef42623,
		0x0f00006f,
		0xfec42703,
		0x03b00793,
		0x02e7f063,
		0x03600513,
		0x00000317,
		0xd50300e7,
		0xfec42783,
		0xfc478793,
		0xfef42623,
		0x0c80006f,
		0xfec42703,
		0x03100793,
		0x02e7f063,
		0x03500513,
		0x00000317,
		0xd28300e7,
		0xfec42783,
		0xfce78793,
		0xfef42623,
		0x0a00006f,
		0xfec42703,
		0x02700793,
		0x02e7f063,
		0x03400513,
		0x00000317,
		0xd00300e7,
		0xfec42783,
		0xfd878793,
		0xfef42623,
		0x0780006f,
		0xfec42703,
		0x01d00793,
		0x02e7f063,
		0x03300513,
		0x00000317,
		0xcd8300e7,
		0xfec42783,
		0xfe278793,
		0xfef42623,
		0x0500006f,
		0xfec42703,
		0x01300793,
		0x02e7f063,
		0x03200513,
		0x00000317,
		0xcb0300e7,
		0xfec42783,
		0xfec78793,
		0xfef42623,
		0x0280006f,
		0xfec42703,
		0x00900793,
		0x00e7fe63,
		0x03100513,
		0x00000317,
		0xc88300e7,
		0xfec42783,
		0xff678793,
		0xfef42623,
		0xfec42703,
		0x00800793,
		0x02e7f063,
		0x03900513,
		0x00000317,
		0xc64300e7,
		0xfec42783,
		0xff778793,
		0xfef42623,
		0x14c0006f,
		0xfec42703,
		0x00700793,
		0x02e7f063,
		0x03800513,
		0x00000317,
		0xc3c300e7,
		0xfec42783,
		0xff878793,
		0xfef42623,
		0x1240006f,
		0xfec42703,
		0x00600793,
		0x02e7f063,
		0x03700513,
		0x00000317,
		0xc14300e7,
		0xfec42783,
		0xff978793,
		0xfef42623,
		0x0fc0006f,
		0xfec42703,
		0x00500793,
		0x02e7f063,
		0x03600513,
		0x00000317,
		0xbec300e7,
		0xfec42783,
		0xffa78793,
		0xfef42623,
		0x0d40006f,
		0xfec42703,
		0x00400793,
		0x02e7f063,
		0x03500513,
		0x00000317,
		0xbc4300e7,
		0xfec42783,
		0xffb78793,
		0xfef42623,
		0x0ac0006f,
		0xfec42703,
		0x00300793,
		0x02e7f063,
		0x03400513,
		0x00000317,
		0xb9c300e7,
		0xfec42783,
		0xffc78793,
		0xfef42623,
		0x0840006f,
		0xfec42703,
		0x00200793,
		0x02e7f063,
		0x03300513,
		0x00000317,
		0xb74300e7,
		0xfec42783,
		0xffd78793,
		0xfef42623,
		0x05c0006f,
		0xfec42703,
		0x00100793,
		0x02e7f063,
		0x03200513,
		0x00000317,
		0xb4c300e7,
		0xfec42783,
		0xffe78793,
		0xfef42623,
		0x0340006f,
		0xfec42783,
		0x02078063,
		0x03100513,
		0x00000317,
		0xb28300e7,
		0xfec42783,
		0xfff78793,
		0xfef42623,
		0x0100006f,
		0x03000513,
		0x00000317,
		0xb0c300e7,
		0x00000013,
		0x01c12083,
		0x01812403,
		0x02010113,
		0x00008067,
		0xfe010113,
		0x00812e23,
		0x02010413,
		0xfea42623,
		0x050007b7,
		0x00078793,
		0x0007a023,
		0x050007b7,
		0x00078793,
		0xfec42703,
		0x00271713,
		0x00e7a023,
		0x050007b7,
		0x00078793,
		0x0007a703,
		0x050007b7,
		0x00078793,
		0x00276713,
		0x00e7a023,
		0x00000013,
		0x050007b7,
		0x00078793,
		0x0007a783,
		0x0017f793,
		0xfe0788e3,
		0x050007b7,
		0x00078793,
		0x0007a703,
		0x050007b7,
		0x00078793,
		0xffd77713,
		0x00e7a023,
		0x00000013,
		0x050007b7,
		0x00078793,
		0x0007a783,
		0x0017f713,
		0x00100793,
		0xfef706e3,
		0x00000013,
		0x00000013,
		0x01c12403,
		0x02010113,
		0x00008067,
		0xfe010113,
		0x00812e23,
		0x02010413,
		0x00000013,
		0x040007b7,
		0x00078793,
		0x0007a783,
		0x0027f793,
		0xfe0788e3,
		0x040007b7,
		0x00078793,
		0x0007a783,
		0x0027d793,
		0xfef42623,
		0x040007b7,
		0x00078793,
		0x00100713,
		0x00e7a023,
		0x00000013,
		0x040007b7,
		0x00078793,
		0x0007a783,
		0x0027f713,
		0x00100793,
		0xfef706e3,
		0x040007b7,
		0x00078793,
		0x0007a023,
		0xfec42783,
		0x00f00533,
		0x01c12403,
		0x02010113,
		0x00008067,
};

u32 data_0[48]=
{
		0x0000000a,
		0x5f5f5f5f,
		0x205f2020,
		0x20202020,
		0x20202020,
		0x5f5f5f20,
		0x2020205f,
		0x20202020,
		0x5f5f2020,
		0x000a5f5f,
		0x20207c20,
		0x285c205f,
		0x5f20295f,
		0x5f205f5f,
		0x202f5f5f,
		0x7c5f5f5f,
		0x5f5f2020,
		0x2f20205f,
		0x5f5f5f20,
		0x20000a7c,
		0x5f7c207c,
		0x207c2029,
		0x5f202f7c,
		0x5f202f5f,
		0x5f5f5c20,
		0x205c205f,
		0x205f202f,
		0x7c207c5c,
		0x7c20000a,
		0x5f5f2020,
		0x7c207c2f,
		0x7c5f2820,
		0x295f2820,
		0x5f5f7c20,
		0x207c2029,
		0x20295f28,
		0x5f7c207c,
		0x000a5f5f,
		0x7c5f7c20,
		0x7c202020,
		0x5f5c7c5f,
		0x5f5c5f5f,
		0x5f2f5f5f,
		0x2f5f5f5f,
		0x5f5f5c20,
		0x5c202f5f,
		0x5f5f5f5f,
		0x00000a7c,
};
u32 program_1[529]=
{
		0xfd010113,
		0x02112623,
		0x02812423,
		0x03010413,
		0x020007b7,
		0x00078793,
		0x00478793,
		0x36400713,
		0x00e7a023,
		0x040007b7,
		0x00078793,
		0x0007a023,
		0x050007b7,
		0x00078793,
		0x0007a023,
		0x000107b7,
		0x00078793,
		0x0007a023,
		0x000107b7,
		0x00078793,
		0x0007a783,
		0x00f00533,
		0x00000317,
		0x6b8300e7,
		0x000107b7,
		0x00078793,
		0x0007a703,
		0x00170713,
		0x00e7a023,
		0x000107b7,
		0x00078793,
		0x0007a703,
		0x3e800793,
		0x00f71863,
		0x000107b7,
		0x00078793,
		0x0007a023,
		0xfe042623,
		0x0100006f,
		0xfec42783,
		0x00178793,
		0xfef42623,
		0xfec42703,
		0x000927b7,
		0x00078793,
		0x7bf78793,
		0xfee7d2e3,
		0xfe042423,
		0x0100006f,
		0xfe842783,
		0x00178793,
		0xfef42423,
		0xfe842703,
		0x000927b7,
		0x00078793,
		0x7bf78793,
		0xfee7d2e3,
		0xfe042223,
		0x0100006f,
		0xfe442783,
		0x00178793,
		0xfef42223,
		0xfe442703,
		0x000927b7,
		0x00078793,
		0x7bf78793,
		0xfee7d2e3,
		0xfe042023,
		0x0100006f,
		0xfe042783,
		0x00178793,
		0xfef42023,
		0xfe042703,
		0x000927b7,
		0x00078793,
		0x7bf78793,
		0xfee7d2e3,
		0xfc042e23,
		0x0100006f,
		0xfdc42783,
		0x00178793,
		0xfcf42e23,
		0xfdc42703,
		0x000927b7,
		0x00078793,
		0x7bf78793,
		0xfee7d2e3,
		0xfc042c23,
		0x0100006f,
		0xfd842783,
		0x00178793,
		0xfcf42c23,
		0xfd842703,
		0x000927b7,
		0x00078793,
		0x7bf78793,
		0xfee7d2e3,
		0xec5ff06f,
		0xfe010113,
		0x00812e23,
		0x02010413,
		0xfea42623,
		0x050007b7,
		0x00078793,
		0xfec42703,
		0x00171713,
		0x00e7a023,
		0xfec42783,
		0x0017e793,
		0xfef42623,
		0x00000013,
		0x01c12403,
		0x02010113,
		0x00008067,
		0xff010113,
		0x00812623,
		0x01010413,
		0x040007b7,
		0x00078793,
		0x0007a703,
		0x000107b7,
		0x00078793,
		0x00175713,
		0x00e7a023,
		0x00000013,
		0x00c12403,
		0x01010113,
		0x00008067,
		0xfe010113,
		0x00112e23,
		0x00812c23,
		0x02010413,
		0x00a007b3,
		0xfef407a3,
		0xfef44703,
		0x00a00793,
		0x00f71863,
		0x00d00513,
		0x00000317,
		0xfd8300e7,
		0x020007b7,
		0x00078793,
		0x00878793,
		0xfef44703,
		0x00e7a023,
		0x00000013,
		0x01c12083,
		0x01812403,
		0x02010113,
		0x00008067,
		0xfe010113,
		0x00112e23,
		0x00812c23,
		0x02010413,
		0xfea42623,
		0x0200006f,
		0xfec42783,
		0x00178713,
		0xfee42623,
		0x0007c783,
		0x00f00533,
		0x00000317,
		0xf7c300e7,
		0xfec42783,
		0x0007c783,
		0xfc079ee3,
		0x00000013,
		0x00000013,
		0x01c12083,
		0x01812403,
		0x02010113,
		0x00008067,
		0xfe010113,
		0x00112e23,
		0x00812c23,
		0x02010413,
		0xfea42623,
		0xfec42703,
		0x38300793,
		0x02e7f063,
		0x03900513,
		0x00000317,
		0xf2c300e7,
		0xfec42783,
		0xc7c78793,
		0xfef42623,
		0x1400006f,
		0xfec42703,
		0x31f00793,
		0x02e7f063,
		0x03800513,
		0x00000317,
		0xf04300e7,
		0xfec42783,
		0xce078793,
		0xfef42623,
		0x1180006f,
		0xfec42703,
		0x2bb00793,
		0x02e7f063,
		0x03700513,
		0x00000317,
		0xedc300e7,
		0xfec42783,
		0xd4478793,
		0xfef42623,
		0x0f00006f,
		0xfec42703,
		0x25700793,
		0x02e7f063,
		0x03600513,
		0x00000317,
		0xeb4300e7,
		0xfec42783,
		0xda878793,
		0xfef42623,
		0x0c80006f,
		0xfec42703,
		0x1f300793,
		0x02e7f063,
		0x03500513,
		0x00000317,
		0xe8c300e7,
		0xfec42783,
		0xe0c78793,
		0xfef42623,
		0x0a00006f,
		0xfec42703,
		0x18f00793,
		0x02e7f063,
		0x03400513,
		0x00000317,
		0xe64300e7,
		0xfec42783,
		0xe7078793,
		0xfef42623,
		0x0780006f,
		0xfec42703,
		0x12b00793,
		0x02e7f063,
		0x03300513,
		0x00000317,
		0xe3c300e7,
		0xfec42783,
		0xed478793,
		0xfef42623,
		0x0500006f,
		0xfec42703,
		0x0c700793,
		0x02e7f063,
		0x03200513,
		0x00000317,
		0xe14300e7,
		0xfec42783,
		0xf3878793,
		0xfef42623,
		0x0280006f,
		0xfec42703,
		0x06300793,
		0x00e7fe63,
		0x03100513,
		0x00000317,
		0xdec300e7,
		0xfec42783,
		0xf9c78793,
		0xfef42623,
		0xfec42703,
		0x05900793,
		0x02e7f063,
		0x03900513,
		0x00000317,
		0xdc8300e7,
		0xfec42783,
		0xfa678793,
		0xfef42623,
		0x1400006f,
		0xfec42703,
		0x04f00793,
		0x02e7f063,
		0x03800513,
		0x00000317,
		0xda0300e7,
		0xfec42783,
		0xfb078793,
		0xfef42623,
		0x1180006f,
		0xfec42703,
		0x04500793,
		0x02e7f063,
		0x03700513,
		0x00000317,
		0xd78300e7,
		0xfec42783,
		0xfba78793,
		0xfef42623,
		0x0f00006f,
		0xfec42703,
		0x03b00793,
		0x02e7f063,
		0x03600513,
		0x00000317,
		0xd50300e7,
		0xfec42783,
		0xfc478793,
		0xfef42623,
		0x0c80006f,
		0xfec42703,
		0x03100793,
		0x02e7f063,
		0x03500513,
		0x00000317,
		0xd28300e7,
		0xfec42783,
		0xfce78793,
		0xfef42623,
		0x0a00006f,
		0xfec42703,
		0x02700793,
		0x02e7f063,
		0x03400513,
		0x00000317,
		0xd00300e7,
		0xfec42783,
		0xfd878793,
		0xfef42623,
		0x0780006f,
		0xfec42703,
		0x01d00793,
		0x02e7f063,
		0x03300513,
		0x00000317,
		0xcd8300e7,
		0xfec42783,
		0xfe278793,
		0xfef42623,
		0x0500006f,
		0xfec42703,
		0x01300793,
		0x02e7f063,
		0x03200513,
		0x00000317,
		0xcb0300e7,
		0xfec42783,
		0xfec78793,
		0xfef42623,
		0x0280006f,
		0xfec42703,
		0x00900793,
		0x00e7fe63,
		0x03100513,
		0x00000317,
		0xc88300e7,
		0xfec42783,
		0xff678793,
		0xfef42623,
		0xfec42703,
		0x00800793,
		0x02e7f063,
		0x03900513,
		0x00000317,
		0xc64300e7,
		0xfec42783,
		0xff778793,
		0xfef42623,
		0x14c0006f,
		0xfec42703,
		0x00700793,
		0x02e7f063,
		0x03800513,
		0x00000317,
		0xc3c300e7,
		0xfec42783,
		0xff878793,
		0xfef42623,
		0x1240006f,
		0xfec42703,
		0x00600793,
		0x02e7f063,
		0x03700513,
		0x00000317,
		0xc14300e7,
		0xfec42783,
		0xff978793,
		0xfef42623,
		0x0fc0006f,
		0xfec42703,
		0x00500793,
		0x02e7f063,
		0x03600513,
		0x00000317,
		0xbec300e7,
		0xfec42783,
		0xffa78793,
		0xfef42623,
		0x0d40006f,
		0xfec42703,
		0x00400793,
		0x02e7f063,
		0x03500513,
		0x00000317,
		0xbc4300e7,
		0xfec42783,
		0xffb78793,
		0xfef42623,
		0x0ac0006f,
		0xfec42703,
		0x00300793,
		0x02e7f063,
		0x03400513,
		0x00000317,
		0xb9c300e7,
		0xfec42783,
		0xffc78793,
		0xfef42623,
		0x0840006f,
		0xfec42703,
		0x00200793,
		0x02e7f063,
		0x03300513,
		0x00000317,
		0xb74300e7,
		0xfec42783,
		0xffd78793,
		0xfef42623,
		0x05c0006f,
		0xfec42703,
		0x00100793,
		0x02e7f063,
		0x03200513,
		0x00000317,
		0xb4c300e7,
		0xfec42783,
		0xffe78793,
		0xfef42623,
		0x0340006f,
		0xfec42783,
		0x02078063,
		0x03100513,
		0x00000317,
		0xb28300e7,
		0xfec42783,
		0xfff78793,
		0xfef42623,
		0x0100006f,
		0x03000513,
		0x00000317,
		0xb0c300e7,
		0x00000013,
		0x01c12083,
		0x01812403,
		0x02010113,
		0x00008067,
		0xfe010113,
		0x00812e23,
		0x02010413,
		0xfea42623,
		0x050007b7,
		0x00078793,
		0x0007a023,
		0x050007b7,
		0x00078793,
		0xfec42703,
		0x00271713,
		0x00e7a023,
		0x050007b7,
		0x00078793,
		0x0007a703,
		0x050007b7,
		0x00078793,
		0x00276713,
		0x00e7a023,
		0x00000013,
		0x050007b7,
		0x00078793,
		0x0007a783,
		0x0017f793,
		0xfe0788e3,
		0x050007b7,
		0x00078793,
		0x0007a703,
		0x050007b7,
		0x00078793,
		0xffd77713,
		0x00e7a023,
		0x00000013,
		0x050007b7,
		0x00078793,
		0x0007a783,
		0x0017f713,
		0x00100793,
		0xfef706e3,
		0x00000013,
		0x00000013,
		0x01c12403,
		0x02010113,
		0x00008067,
		0xfe010113,
		0x00812e23,
		0x02010413,
		0x00000013,
		0x040007b7,
		0x00078793,
		0x0007a783,
		0x0027f793,
		0xfe0788e3,
		0x040007b7,
		0x00078793,
		0x0007a783,
		0x0027d793,
		0xfef42623,
		0x040007b7,
		0x00078793,
		0x00100713,
		0x00e7a023,
		0x00000013,
		0x040007b7,
		0x00078793,
		0x0007a783,
		0x0027f713,
		0x00100793,
		0xfef706e3,
		0x040007b7,
		0x00078793,
		0x0007a023,
		0xfec42783,
		0x00f00533,
		0x01c12403,
		0x02010113,
		0x00008067,
};

u32 data_1[48]=
{
		0x2020000a,
		0x5f5f5f5f,
		0x205f2020,
		0x20202020,
		0x20202020,
		0x5f5f5f20,
		0x2020205f,
		0x20202020,
		0x5f5f2020,
		0x000a5f5f,
		0x20207c20,
		0x285c205f,
		0x5f20295f,
		0x5f205f5f,
		0x202f5f5f,
		0x7c5f5f5f,
		0x5f5f2020,
		0x2f20205f,
		0x5f5f5f20,
		0x20000a7c,
		0x5f7c207c,
		0x207c2029,
		0x5f202f7c,
		0x5f202f5f,
		0x5f5f5c20,
		0x205c205f,
		0x205f202f,
		0x7c207c5c,
		0x7c20000a,
		0x5f5f2020,
		0x7c207c2f,
		0x7c5f2820,
		0x295f2820,
		0x5f5f7c20,
		0x207c2029,
		0x20295f28,
		0x5f7c207c,
		0x000a5f5f,
		0x7c5f7c20,
		0x7c202020,
		0x5f5c7c5f,
		0x5f5c5f5f,
		0x5f2f5f5f,
		0x2f5f5f5f,
		0x5f5f5c20,
		0x5c202f5f,
		0x5f5f5f5f,
		0x00000a7c,
};

int main()
{

    init_platform();

    FILE *f;
    int i=0,rv;

for(int i=0; i < sizeof(program_0)/sizeof(program_0[0]);i++)
{
	VIS_AXI_0->DIN = (u32 ) program_0[i];
	VIS_AXI_0->ADDR |= VIS_AXI_WEN ;
	VIS_AXI_0->ADDR |= ((u32)i << 5);

	VIS_AXI_0->ADDR |= VIS_AXI_EN ; // Gatilho do enable por ultimo

   while(!(VIS_AXI_0->ADDR & VIS_AXI_OK))
   {
    	__asm("nop");
   }
   VIS_AXI_0->ADDR =0;
}
u32 j=0x2000/4;
for(int i=0; i< sizeof(data_0)/sizeof(data_0[0]);i++)
{
    VIS_AXI_0->DIN = (u32 ) data_0[i];
    VIS_AXI_0->ADDR |= VIS_AXI_WEN ;
    VIS_AXI_0->ADDR |= ((u32)j << 5);

    VIS_AXI_0->ADDR |= VIS_AXI_EN ; // Gatilho do enable por ultimo

   while(!(VIS_AXI_0->ADDR & VIS_AXI_OK)){
   __asm("nop");
   }
   VIS_AXI_0->ADDR =0;
   j++;
}



for(int i=0; i < sizeof(program_1)/sizeof(program_1[0]);i++)
{
	VIS_AXI_1->DIN = (u32 ) program_1[i];
	VIS_AXI_1->ADDR |= VIS_AXI_WEN ;
	VIS_AXI_1->ADDR |= ((u32)i << 5);

	VIS_AXI_1->ADDR |= VIS_AXI_EN ; // Gatilho do enable por ultimo

   while(!(VIS_AXI_1->ADDR & VIS_AXI_OK))
   {
    	__asm("nop");
   }
   VIS_AXI_1->ADDR =0;
}


j=0x2000/4;
for(int i=0; i< sizeof(data_1)/sizeof(data_1[0]);i++)
{
    VIS_AXI_1->DIN = (u32 ) data_1[i];
    VIS_AXI_1->ADDR |= VIS_AXI_WEN ;
    VIS_AXI_1->ADDR |= ((u32)j << 5);

    VIS_AXI_1->ADDR |= VIS_AXI_EN ; // Gatilho do enable por ultimo

   while(!(VIS_AXI_1->ADDR & VIS_AXI_OK)){
   __asm("nop");
   }
   VIS_AXI_1->ADDR =0;
   j++;
}






	VIS_AXI_0->RST=0;
	VIS_AXI_1->RST=0;
    usleep(50);

    while(1)
    {
   	VIS_AXI_0->RST = 1;
   	VIS_AXI_1->RST = 1;
    }







    cleanup_platform();
    return 0;
}
